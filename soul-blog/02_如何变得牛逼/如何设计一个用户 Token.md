# 自我 YY 的设计

1. 客户端在登陆之前初始化设备信息
2. 准备信息例如，设备号(如果是手机的话可以拿到很多硬件信息)，appId，
当前地理信息。
4. 登陆的时候带上2所收集的信息，将这些信息包括UserId，权限信息按照一定的顺序组合好，hash 加密，生成一个字符串，这个字符串成为 Token，保存在 redis 中。
5. 用户再次访问的时候，同样的方式把之前信息收集好，并且带上 Token 访问服务器，比较登陆之前第2点的信息和 服务器中存储的信息知否一致

这样做的意义在于，攻击者只有通知劫持了 Token，获取到用户的各种设备信息，这时候才能登陆，Https 可以有效防止劫持的可能性。